<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <!--<link rel="stylesheet" href="css/styles.css?v=1.0">-->

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
  <script type="text/javascript" src="model/moves.json"></script>
  <script type="test/javascript" src="model/pokemon.json"></script>

  <!--Include these json files for no server version-->
  <script>
    $( document ).ready( function() {
      console.log(moves);
      var moveList = movePicker(moves, 3); //should be changed to fetch item from user
      console.log(moveList);

    });

    function movePicker(movesJSON, totalMoves)
    {
      var pickedMoves = [];
      if ( Object.keys(movesJSON).length < totalMoves)
      {
        console.log("You asked for more moves than are available in the JSON file!"); //correctly handle error
        return pickedMoves;
      }
      for ( var i = 0; i < totalMoves; i++)
      {
        var position = Math.floor(Math.random()*Object.keys(movesJSON).length);
        var selectedMoveName = Object.keys(movesJSON)[position];
        var selectedMove = movesJSON[selectedMoveName];
        
        if ( moveNotPicked(pickedMoves, selectedMoveName) )       
        {
          pickedMoves.push(selectedMove);
        }       
      }
      return pickedMoves;
    }

    function moveNotPicked(pickedMoves, selectedMoveName)
    {
      for ( var name in pickedMoves )
      {
        if ( selectedMoveName == name ) { return false; }
      }
      return true;
    }


  </script>

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
  <h1>Pokemon RPG</h1>
  <p>This is the start of something cool!</p>
</body>
</html>